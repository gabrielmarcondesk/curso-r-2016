instsall.packages("ggplot2")
instsall.packages("ggplot2")
instsall.packages("ggplot2")
instsall.packages("ggplot2")
install.packages("ggplot2")
library(ggplot2)
library("survival", lib.loc="C:/Program Files/R/R-3.2.3/library")
?mean
help(mean)
weighted.mean(100:1000,1:900)
weighted.mean(100:1000,0:900)
xm <- weighted.mean(x, wt)
,  5,  4,  1)/15
x <- c(3.7,3.3,3.5,2.8)
xm <- weighted.mean(x, wt)
xm <- weighted.mean(x, wt)
wt <- c(5 ,  5 ,  4 ,  1)/15
wt <- c(5,  5,  4,  1)/15
wt <- c(5,  5,  4,  1)/15
3.7,3.3,3.5,2.8
pi
sin(pi / 2) = 2 * 3 - 4 ^ 2
sin(pi / 2) + 2 * 3 - 4 ^ 2
4%%3
>
x <- 4
y <- 3
resto_de_x_div_y <-- x%%y
x <- 3
y <- 10
resto_de_x_div_y <- y%%x
y%%x
x == 4
# exemplo 'for'
seq <- 1:10
seq <- 1:10
seq <- 1:10
seq <- 1:10
seq <- 1:10
seq <- 1:10
seq <- 1:10
dor in seq) {
print(contador)
}
seq <- 1:10
for (contador in seq) {
print(contador)
}
for(contador in seq) {
if (contador %% 2 == 0) {
print("o número é par")
} else {
print("o número é impar")
}
}
for(contador in seq) {
if (contador %% 2 == 0) {
print("o número", contador, "é par")
} else {
print("o número", contador, "é impar")
}
}
for(contador in seq) {
if (contador %% 2 == 0) {
print("o número", contador, "é par")
} else {
print("o número", contador, "é impar")
}
for(contador in seq) {
if (contador %% 2 == 0) {
print("o número", contador, "é par")
} else {
print("o número", contador, "é impar")
}
print ("olá")
}
for(contador in seq) {
if (contador %% 2 == 0) {
print("o número", contador, "é par")
} else {
print("o número", contador, "é impar")
}
print ("olá")
}
for(contador in seq) {
if (contador %% 2 == 0) {
print("o número", contador, "é par")
} else {
print("o número", contador, "é impar")
}
print ("olá")
}
10
for (contador in seq) {
print(contador)
}
for(contador in seq) {
if (contador %% 2 == 0) {
print("o número", contador, "é par")
} else {
print("o número", contador, "é impar")
}
print ("olá")
}
seq <- 1:10
for (contador in seq) {
print(contador)
}
for(contador in seq) {
if (contador %% 2 == 0) {
print("o número", contador, "é par")
} else {
print("o número", contador, "é impar")
}
print ("olá")
}
for (contador in seq) {
print(contador)
}
for(contador in seq) {
if (contador %% 2 == 0) {
print("o número", contador, "é par")
} else {
print("o número", contador, "é impar")
}
print ("olá")
}
fun <- function(a, b) {
return(a - b)
}
fun <- function(a, b) {
return(a - b)
}
fun <- function(a, b) {
return(a - b)
}
fun(10,15)
1:10
)
Y <- C(3,4,5)
1 , 2 )
Y <- C(
X <- C(1 , 2)
Y <- C(3 , 4 , 5)
Y+x
M <- c(1 , 2)
N <- c(3 , 4 , 5)
M + N
1)
N <- c(3 , 4 , 5)
M + N
(
X  <-
mtcars
dim(mtcars)
mtcars(,2)
mtcars[,2]
mtcars[[2]]
mtcars$cyl
mtcars[.'cyl']
mtcars[. 'cyl']
mtcars[ , 'cyl']
summary(mtcars)
mean(mtcars$mpg)
median(mtcars$mpg)
var(mtcars$mpg)
sd(mtcars$mpg)
quantile(mtcars$mpg, c(0.25, 0.5, 0.75))
quantile(mtcars$mpg, 0:10 /10)
?aggregate
data("diamonds", ggllmr)
library(magrittr)
mean(mtcars$mpg)
mtcars$mpg %>% mean()
TRUE %>% mean(c(1:101, NA), na.rm = .)
1:101 %>%
1:101 %>%
?mean
order(1:101, TRUE)
1:101 %>%
order(1:101, TRUE)
order( 1:101, na.last = TRUE)
divide_by(2)
divide_by(order(1:101, na.last = TRUE), 2)
1:101 %>%
c(NA)
mean(na.mr = TRUE)
1:101 %>%
c(NA) %>%
mean(na.rm = TRUE)
library(dplyr)
pnud_muni <- tbl_df(pnud_muni)
data(pnud_muni)
data(pnud_muni, package = 'abjutils')
tbl_df(pnud_muni)
pnud_muni %>%
pnud_muni %>%
pnud_muni %>% select(municipio, estado, data, ano, gini, start.with('idhm'))
pnud_muni %>% select(municipio, uf, ano, gini, start.with('idhm'))
pnud_muni %>% select(municipio, uf, ano, gini, starts_with('idhm'))
pnud_muni %>% select(ano:municipio, uf, gini, starts_with('idhm'))
pnud_muni %>% select(ano:municipio, uf, gini starts_with('idhm'))  %>% select(1:10)
pnud_muni %>% select(ano:municipio, uf, gini starts_with('idhm'))  %>% tbl_df
pnud_muni %>% select(ano:municipio, uf, gini starts_with('idhm')) %>% tbl_df
pnud_muni %>% select(ano:municipio, uf, gini, starts_with('idhm')) %>% tbl_df
pnud_muni %>% select(ano:municipio, uf, gini starts_with('idhm'))
?tbl_df
pnud_muni %>% select(ano, municipio, uf, gini, starts_with('idhm')) %>% tbl_df
pnud_muni %>% select( ano, ufn, municipío, idhm) %>% filter(ufn==35, idhm > .8, ano==2010)
pnud_muni %>% select( ano, ufn, municipio, idhm) %>% filter(ufn==35, idhm > .8, ano==2010)
pnud_muni %>% select(ano, ufn, municipio, idhm) %>% filter (municipio %in% c('CAMPINAS', 'SÃO PAULO'))
pnud)muni %>% select( ano, municipio, ufn, gini, stars_with('idhm')) %>% filter(ano==2010, c(gini > .5, idhm > .7)
pnud_muni %>% select(ano, municipio, ufn, gini, stars_with('idhm')) %>% filter(ano==2010, c(gini > .5, idhm > .7)
pnud_muni %>% select(ano, municipio, ufn, gini, stars_with('idhm')) %>% filter(ano==2010, c(gini > .5, idhm > .7)
pnud_muni %>% select(ano, municipio, ufn, gini, stars_with('idhm')) %>% filter(ano==2010, gini> 0.5 | idhm > 0.7)
pnud_muni %>% tbl_df() %>% select(ano, municipio, uf, gini, stars_with('idhm')) %>% filter(ano==2010, gini> 0.5 | idhm > 0.7)
pnud_muni %>% tbl_df() %>% select(ano, municipio, uf, gini, stars_with('idhm')) %>% filter(ano==2010, gini> 0.5 | idhm > 0.7)
pnud_muni %>% tbl_df() %>% select(ano, municipio, uf, gini, starts_with('idhm')) %>% filter(ano==2010, gini> 0.5 | idhm > 0.7)
pnud_muni %>% select(ano, ufn, municipio, starts_with('idhm')) %>% filter(ano==2010) %>% mutate(idhm2 = mean(idhm_e + idhm_l/ 2))
pnud_muni %>% select(ano, ufn, municipio, starts_with('idhm')) %>% filter(ano==2010) %>% mutate(idhm2 = mean(idhm_e + idhm_l/ 2)) %>% tbl_df
pnud_muni %>% select(ano, ufn, municipio, starts_with('idhm')) %>% filter(ano==2010) %>% mutate(idhm2 = mean(idhm_e + idhm_l/ 2)) %>% tbl_df
pnud_muni %>% select(ano, ufn, municipio, starts_with('idhm')) %>% filter(ano==2010) %>% mutate(idhm2 = mean((idhm_e + idhm_l)/ 2)) %>% tbl_df
pnud_muni %>% select(ano, ufn, municipio, starts_with('idhm')) %>% filter(ano==2010) %>% mutate(idhm2 == round(idhm * 100, 1)) %>% tbl_df
pnud_muni %>% select(ano, ufn, municipio, starts_with('idhm')) %>% filter(ano==2010) %>% mutate(idhm2 = round(idhm * 100, 1)) %>% tbl_df
%>% filter(ano==2010) %>% arrange (desc(idhm)) %>% tbl_df() %>% head(10)
%>% filter(ano==2010) %>% arrange(desc(idhm)) %>% tbl_df() %>% head(10)
pnud_muni %>% select(ano, ufn, municipio, starts_with('idhm'))
%>% filter(ano==2010) %>% arrange(desc(idhm)) %>% tbl_df() %>% head(10)
pnud_muni %>% select(ano, ufn, municipio, starts_with('idhm')) %>% filter(ano==2010) %>% arrange(desc(idhm)) %>% tbl_df() %>% head(10)
pnud_muni %>%
filter(ano==2010) %>%
group_by(ufn) %>%
summarise(n=n(),
idhm_medio=mean(idhm),
populacao_total=sum(popt)) %>%
arrange(desc(idhm_medio))
pnud_muni %>%
filter(ano==2010) %>%
group_by(ufn) %>%
summarise(n=n(1),
idhm_medio=mean(idhm),
populacao_total=sum(popt)) %>%
arrange(desc(idhm_medio))
pnud_muni %>% filter(ano==2010) %>% group_by(ufn) %>% summarise( media = mean(idhm), dp = sd(idhm))
pnud_muni %>% group_by(ano) %>% summarise(media = mean(idhm), dp = sd(idhm), n_obs = n(), n_distinct(ufn))
pnud_muni %>% group_by(ano) %>% mutate(n_obs = n()) %>% select (ano, n_obs)
pnud_muni %>%
filter(ano==2010) %>%
group_by(ufn) %>%
summarise(n=n(),
idhm_medio=mean(idhm),
populacao_total=sum(popt)) %>%
arrange(desc(idhm_medio))
pnud_muni %>%
filter(ano == 2010) %>%
count(ufn)
pnud_muni %>%
filter(ano == 2010) %>%
count(ufn) %>% summarise(n=n())
pnud_muni %>%
filter(ano == 2010) %>%
group_by(ufn) %>% summarise(n=n())
pnud_muni %>% filter(ano == 2000) %>% group_by(espvida) %>% summarise(n=n(), espvida_medio = ((espvida*popt)/sum(popt)) %>% arrange(desc(espvida_medio))
pnud_muni %>% filter(ano == 2000) %>% group_by(espvida) %>% summarise(n=n(), espvida_medio = ((espvida*popt)/sum(popt)) %>% arrange(desc(espvida_medio))
pnud_muni %>% filter(ano == 2000) %>% group_by(espvida) %>% summarise(n=n(), espvida_medio = ((espvida*popt)/sum(popt))
pnud_muni %>% filter(ano == 2000) %>% group_by(ufn) %>% summarise(x = sum(espvida*popt)/sum(popt))
pnud_muni %>% filter(ano == 2000) %>% group_by(ufn) %>% summarise(x = sum(espvida*popt)/sum(popt)) %>% arrange(desc(x)) %>% head(10)
?cresc
?desc
pnud_muni %>% filter(ano == 2000) %>% group_by(ufn) %>% summarise(x = sum(espvida*popt)/sum(popt)) %>% arrange(asc(x)) %>% head(10)
pnud_muni %>% filter(ano == 2000) %>% group_by(ufn) %>% summarise(x = sum(espvida*popt)/sum(popt)) %>% arrange(ascending(x)) %>% head(10)
pnud_muni %>% filter(ano == 2000) %>% group_by(ufn) %>% summarise(x = sum(espvida*popt)/sum(popt)) %>% arrange(order(x)) %>% head(10)
pnud_muni %>% filter(ano == 2000) %>% group_by(ufn) %>% summarise(x = sum(espvida*popt)/sum(popt)) %>% order((x)) %>% head(10)
pnud_muni %>% filter(ano == 2000) %>% group_by(ufn) %>% summarise(x = sum(espvida*popt)/sum(popt)) %>% summarise(default((x)) %>% head(10)
library(tidyr)
library(tidyr)
pnud_muni %>%
group_by(ano, ufn) %>%
summarise(populacao=sum(popt)) %>%
ungroup() %>%
spread(ano, populacao)
library(tidyr)
pnud_muni %>%
group_by(ano, ufn) %>%
summarise(populacao=sum(popt)) %>%
ungroup() %>%
spread(ano, populacao)
pnud_muni %>%
filter(ano == 2010) %>%
select(ufn, municipio, starts_with('idhm_')) %>%
gather(tipo_idh, idh, starts_with('idhm_'))
pnud_muni %>%
filter(ano == 2010) %>%
select(ufn, municipio, starts_with('idhm_')) %>%
gather(tipo_idh, idh, starts_with('idhm_')) %>% tbl_df()
pnud_muni %>%
filter(ano == 2010) %>%
select(ufn, municipio, starts_with('idhm_')) %>%
gather(tipo_idh, idh, starts_with('idhm_')) %>% tbl_df %>% spread(tipo_idh, idh)
savehistory("~/aula01/aula03.R")
